<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./styles.css" />
    <title>Sign up form</title>
  </head>
  <body>
    <div class="left-content">
      <div class="image-sidebar">
        <img class="logo-image" src="./images/self-improvement.svg" alt="" />
        <div class="logo-text">movement</div>
      </div>
    </div>
    <div class="right-content">
      <div class="instructions">
        This is not a real online service! You know you need something like this
        in your life to help you realize your deepest dreams. <br />
        <p>Sign up <em>now</em> to get started.</p>
      </div>
      <div class="sign-up">
        <h2>Let's do this!</h2>
        <form
          id="myform"
          action=""
          method=""
          onSubmit="return checkPassword(this)"
        >
          <ul>
            <li>
              <label for="first-name">FIRST NAME</label>
              <input type="text" name="first-name" id="first-name" required />
              <span></span>
            </li>
            <li>
              <label for="last-name">LAST NAME</label>
              <input type="text" name="last-name" id="last-name" required />
              <span></span>
            </li>
          </ul>
          <ul>
            <li>
              <label for="email">EMAIL</label>
              <input
                type="email"
                id="email"
                name="email"
                placeholder="email@email.com"
                required
              /><span></span>
            </li>
            <li>
              <label for="phone">PHONE NUMBER</label>
              <input
                type="tel"
                id="phone"
                name="phone"
                placeholder="1234 567 890"
                pattern="[0-9]{10}"
                maxlength="10"
              /><span></span>
            </li>
          </ul>
          <ul>
            <li>
              <label for="passwordOne">PASSWORD</label>
              <input
                type="password"
                name="passwordOne"
                id="passwordOne"
                minlength="8"
                required
              />
              <span>*Requires at least 8 characters</span>
            </li>
            <li>
              <label for="passwordTwo">CONFIRM PASSWORD</label>
              <input
                type="password"
                name="passwordTwo"
                id="passwordTwo"
                minlength="8"
                required
              />
              <span id="passwordError"></span>
            </li>
          </ul>
        </form>
      </div>
      <div class="create-account">
        <button type="submit" form="myform" id="create-account">
          Create Account
        </button>
        <div>Already have an account? <a href="./index.html">Log In</a></div>
      </div>
    </div>
    <script>
      const passwordOneInput = document.querySelector("#passwordOne");
      const passwordTwoInput = document.querySelector("#passwordTwo");
      const passwordError = document.querySelector("#passwordError");

      passwordTwoInput.addEventListener("input", () => {
        if (passwordOne.value !== passwordTwo.value) {
          passwordError.textContent = "Passwords do not match";
          passwordTwoInput.setCustomValidity("Passwords do not match");
          passwordTwoInput.classList.add("invalid-input");
        } else {
          passwordError.textContent = "";
          passwordTwoInput.setCustomValidity("");
          passwordTwoInput.classList.remove("invalid-input");
        }
      });

      // This is more for style so that invalid style does not
      // show up when page is loaded
      passwordOneInput.addEventListener("input", () => {
        if (passwordOne.value.length < 8) {
          passwordOneInput.classList.add("invalid-input");
        } else {
          passwordOneInput.classList.remove("invalid-input");
        }
      });
    </script>
  </body>
</html>
